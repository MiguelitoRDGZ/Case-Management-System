<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Case Management System</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <!-- Header with Login -->
    <header id="header">
      <h1><i class="fas fa-tasks"></i> Case Management System</h1>
      <div id="auth-section">
        <button id="login-btn" class="btn btn-primary">
          <i class="fab fa-github"></i> Login with GitHub
        </button>
        <div id="user-info" class="hidden">
          <img id="user-avatar" src="" alt="User Avatar">
          <span id="username"></span>
          <button id="logout-btn" class="btn btn-secondary">Logout</button>
        </div>
      </div>
    </header>

    <!-- Main Content Area -->
    <main>
      <!-- Dashboard View -->
      <section id="dashboard-view" class="view">
        <div class="stats-grid">
          <div class="stat-card" id="total-cases">
            <h2><i class="fas fa-clipboard-list"></i> Total Cases</h2>
            <p class="stat-value">0</p>
          </div>
          <div class="stat-card" id="open-cases">
            <h2><i class="fas fa-folder-open"></i> Open Cases</h2>
            <p class="stat-value">0</p>
          </div>
          <div class="stat-card" id="assigned-cases">
            <h2><i class="fas fa-user-tie"></i> Assigned Cases</h2>
            <p class="stat-value">0</p>
          </div>
          <div class="stat-card" id="management-requests">
            <h2><i class="fas fa-headset"></i> Management Requests</h2>
            <p class="stat-value">0</p>
          </div>
        </div>

        <div class="tabs">
          <button class="tab-btn active" data-view="all-cases">All Cases</button>
          <button class="tab-btn" data-view="my-cases">My Cases</button>
          <button class="tab-btn" data-view="management">Management</button>
        </div>

        <div id="cases-container" class="cases-grid">
          <!-- Cases will be loaded here dynamically -->
        </div>
      </section>

      <!-- Case Detail View (hidden by default) -->
      <section id="case-detail-view" class="view hidden">
        <button id="back-to-dashboard" class="btn btn-secondary">
          <i class="fas fa-arrow-left"></i> Back to Dashboard
        </button>
        <div id="case-detail-content">
          <!-- Case details will be loaded here -->
        </div>
      </section>
    </main>

    <!-- Modals -->
    <div id="assign-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>Assign Case</h3>
        <select id="agent-select">
          <option value="">Select Agent</option>
          <!-- Agents will be loaded here -->
        </select>
        <button id="confirm-assign" class="btn btn-primary">Assign</button>
      </div>
    </div>

    <div id="status-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>Update Status</h3>
        <select id="status-select">
          <option value="open">Open</option>
          <option value="removed">Removed</option>
          <option value="loss">Loss</option>
          <option value="utr">Unable To Reach</option>
        </select>
        <button id="confirm-status" class="btn btn-primary">Update</button>
      </div>
    </div>

    <div id="management-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>Request Management Assistance</h3>
        <textarea id="management-reason" placeholder="Please describe what assistance is needed..."></textarea>
        <button id="confirm-management" class="btn btn-primary">Submit Request</button>
      </div>
    </div>
  </div>

  <!-- JavaScript Files -->
  <script src="scripts/utils.js"></script>
  <script src="scripts/auth.js"></script>
  <script src="scripts/github-api.js"></script>
  <script src="scripts/dashboard.js"></script>
  <script src="scripts/cases.js"></script>
</body>
</html>